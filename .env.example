# ============================================
# CONFIGURACIÓN DE BASE DE DATOS
# ============================================
# Formato: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL="postgresql://profebot_user:your_secure_password@localhost:5432/profebot_db"

# ============================================
# CONFIGURACIÓN DE REDIS
# ============================================
# Formato: redis://[:password]@host:port[/db-number]
REDIS_URL="redis://localhost:6379"

# ============================================
# CONFIGURACIÓN DE NEXTAUTH
# ============================================
# URL de tu aplicación (sin trailing slash)
NEXTAUTH_URL="http://localhost:3000"

# Secret para JWT (generar con: openssl rand -base64 32)
NEXTAUTH_SECRET="your-super-secret-key-here-generate-with-openssl"

# ============================================
# CONFIGURACIÓN DE OPENAI
# ============================================
# API Key de OpenAI
OPENAI_API_KEY="sk-..."

# Organization ID (opcional)
OPENAI_ORG_ID="org-..."

# Modelo a usar (opcional, por defecto usa gpt-4o-mini)
OPENAI_MODEL="gpt-4o-mini"

# ============================================
# CONFIGURACIÓN DE MOODLE
# ============================================
# URL base de Moodle (sin trailing slash)
MOODLE_BASE_URL="https://moodle.tu-institucion.edu"

# Token del servicio web (opcional si usas autenticación por usuario)
MOODLE_TOKEN=""

# Token de servicio para operaciones del sistema (opcional)
MOODLE_SERVICE_TOKEN=""

# ============================================
# CONFIGURACIÓN DE LA APLICACIÓN
# ============================================
# Entorno: development | production
NODE_ENV="production"

# URL pública de la aplicación
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# Puerto de la aplicación (por defecto 3000)
PORT="3000"

# ============================================
# CONFIGURACIÓN DE WORKERS Y COLAS
# ============================================
# Número de workers concurrentes
WORKER_CONCURRENCY="2"

# Timeout para análisis en milisegundos (5 minutos por defecto)
ANALYSIS_TIMEOUT="300000"

# Reintentos máximos para jobs fallidos
MAX_JOB_RETRIES="3"

# ============================================
# CONFIGURACIÓN DE CACHÉ
# ============================================
# TTL del caché en segundos (1 hora por defecto)
CACHE_TTL="3600"

# Prefijo para keys de Redis
REDIS_KEY_PREFIX="profebot:"

# ============================================
# CONFIGURACIÓN DE LOGS Y DEBUG
# ============================================
# Nivel de logs: error | warn | info | debug
LOG_LEVEL="info"

# Habilitar modo debug (true | false)
DEBUG="false"

# ============================================
# CONFIGURACIÓN DE SEGURIDAD
# ============================================
# Clave de encriptación para tokens de usuario (32 caracteres)
ENCRYPTION_KEY="your-32-character-encryption-key"

# Dominio permitido para CORS
CORS_ORIGIN="*"

# ============================================
# NOTAS IMPORTANTES
# ============================================
# 1. NUNCA commitear este archivo con valores reales
# 2. Generar NEXTAUTH_SECRET con: openssl rand -base64 32
# 3. Generar ENCRYPTION_KEY con: openssl rand -hex 16
# 4. En producción, usar gestor de secrets (AWS Secrets Manager, etc)
# 5. Verificar que DATABASE_URL y REDIS_URL sean accesibles
# 6. MOODLE_BASE_URL debe ser accesible desde el servidor
